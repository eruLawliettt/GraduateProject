@page "{groupId}"
@model GraduateProject.Pages.Report.Groups.IndexModel
@{
}


<div class="text-center">
    <h1 class="display-4">Просмотр успеваемости группы @Model.Group.Name</h1>
</div>


<div class="accordion" id="Accordion">


    <div class="accordion-item">
        <h2 class="accordion-header" id="headingOne">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                Ведомость 1 семестра
            </button>
        </h2>
        <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
            <div class="accordion-body">

                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th scope="col">Студент/Дисциплина</th>
                            @foreach (var discipline in Model.Disciplines)
                            {
                                <th scope="col">
                                    <h4>@discipline.Name</h4>
                                </th>
                            }
                        </tr>
                    </thead>
                    <tbody>

                        @foreach (var student in Model.Group.Students)
                        {
                            <tr>
                                <td scope="col">@student.LastName @student.FirstName</td>
                                @foreach (var mark in student.ReportMarks.Where(r => r.Report.Semester.Number == 1))
                                {
                                    <td class="text-center">@mark.Mark</td>
                                }
                            </tr>
                        }
                    </tbody>
                </table>

            </div>
        </div>
    </div>


    <div class="accordion-item">
        <h2 class="accordion-header" id="headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                Ведомость 2 семестра
            </button>
        </h2>
        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
            <div class="accordion-body">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th scope="col">Студент/Дисциплина</th>
                            @foreach (var discipline in Model.Disciplines)
                            {
                                <th scope="col">
                                    <h4>@discipline.Name</h4>
                                </th>
                            }
                        </tr>
                    </thead>
                    <tbody>

                        @foreach (var student in Model.Group.Students)
                        {
                            <tr>
                                <td scope="col">@student.LastName @student.FirstName</td>
                                @foreach (var mark in student.ReportMarks.Where(r => r.Report.Semester.Number == 2))
                                {
                                    <td class="text-center">@mark.Mark</td>
                                }
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>


    <div class="accordion-item">
        <h2 class="accordion-header" id="headingThree">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                Ведомость 3 семестра
            </button>
        </h2>
        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
            <div class="accordion-body">

                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th scope="col">Студент/Дисциплина</th>
                            @foreach (var discipline in Model.Disciplines)
                            {
                                <th scope="col">
                                    <h4>@discipline.Name</h4>
                                </th>
                            }
                        </tr>
                    </thead>
                    <tbody>

                        @foreach (var student in Model.Group.Students)
                        {
                            <tr>
                                <td scope="col">@student.LastName @student.FirstName</td>
                                @foreach (var mark in student.ReportMarks.Where(r => r.Report.Semester.Number == 3))
                                {
                                    <td class="text-center">@mark.Mark</td>
                                }
                            </tr>
                        }
                    </tbody>
                </table>

            </div>
        </div>
    </div>

    <div class="accordion-item">
        <h2 class="accordion-header" id="headingFour">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                Ведомость 4 семестра
            </button>
        </h2>
        <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordionExample">
            <div class="accordion-body">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th scope="col">Студент/Дисциплина</th>
                            @foreach (var discipline in Model.Disciplines)
                            {
                                <th scope="col">
                                    <h4>@discipline.Name</h4>
                                </th>
                            }
                        </tr>
                    </thead>
                    <tbody>

                        @foreach (var student in Model.Group.Students)
                        {
                            <tr>
                                <td scope="col">@student.LastName @student.FirstName</td>
                                @foreach (var mark in student.ReportMarks.Where(r => r.Report.Semester.Number == 4))
                                {
                                    <td class="text-center">@mark.Mark</td>
                                }
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="accordion-item">
        <h2 class="accordion-header" id="headingFive">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                Ведомость 5 семестра
            </button>
        </h2>
        <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#accordionExample">
            <div class="accordion-body">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th scope="col">Студент/Дисциплина</th>
                            @foreach (var discipline in Model.Disciplines)
                            {
                                <th scope="col">
                                    <h4>@discipline.Name</h4>
                                </th>
                            }
                        </tr>
                    </thead>
                    <tbody>

                        @foreach (var student in Model.Group.Students)
                        {
                            <tr>
                                <td scope="col">@student.LastName @student.FirstName</td>
                                @foreach (var mark in student.ReportMarks.Where(r => r.Report.Semester.Number == 5))
                                {
                                    <td class="text-center">@mark.Mark</td>
                                }
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="accordion-item">
        <h2 class="accordion-header" id="headingSix">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                Ведомость 6 семестра
            </button>
        </h2>
        <div id="collapseSix" class="accordion-collapse collapse" aria-labelledby="headingSix" data-bs-parent="#accordionExample">
            <div class="accordion-body">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th scope="col">Студент/Дисциплина</th>
                            @foreach (var discipline in Model.Disciplines)
                            {
                                <th scope="col">
                                    <h4>@discipline.Name</h4>
                                </th>
                            }
                        </tr>
                    </thead>
                    <tbody>

                        @foreach (var student in Model.Group.Students)
                        {
                            <tr>
                                <td scope="col">@student.LastName @student.FirstName</td>
                                @foreach (var mark in student.ReportMarks.Where(r => r.Report.Semester.Number == 6))
                                {
                                    <td class="text-center">@mark.Mark</td>
                                }
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
         
    @{
        if (Model.Semesters.Count > 6)
        {
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingSeven">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSeven" aria-expanded="false" aria-controls="collapseSeven">
                    Ведомость 7 семестра
                </button>
            </h2>
            <div id="collapseSeven" class="accordion-collapse collapse" aria-labelledby="headingSeven" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th scope="col">Студент/Дисциплина</th>
                                    @foreach (var discipline in Model.Disciplines)
                                    {
                                        <th scope="col">
                                            <h4>@discipline.Name</h4>
                                        </th>
                                    }
                                </tr>
                            </thead>
                            <tbody>

                                @foreach (var student in Model.Group.Students)
                                {
                                    <tr>
                                        <td scope="col">@student.LastName @student.FirstName</td>
                                        @foreach (var mark in student.ReportMarks.Where(r => r.Report.Semester.Number == 7))
                                        {
                                            <td class="text-center">@mark.Mark</td>
                                        }
                                    </tr>
                                }
                            </tbody>
                        </table>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header" id="headingEight">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseEight" aria-expanded="false" aria-controls="collapseEight">
                    Ведомость 8 семестра
                </button>
            </h2>
                <div id="collapseEight" class="accordion-collapse collapse" aria-labelledby="headingEight" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th scope="col">Студент/Дисциплина</th>
                                    @foreach (var discipline in Model.Disciplines)
                                    {
                                        <th scope="col">
                                            <h4>@discipline.Name</h4>
                                        </th>
                                    }
                                </tr>
                            </thead>
                            <tbody>

                                @foreach (var student in Model.Group.Students)
                                {
                                    <tr>
                                        <td scope="col">@student.LastName @student.FirstName</td>
                                        @foreach (var mark in student.ReportMarks.Where(r => r.Report.Semester.Number == 8))
                                        {
                                            <td class="text-center">@mark.Mark</td>
                                        }
                                    </tr>
                                }
                            </tbody>
                        </table>
                </div>
            </div>
        </div>
        }

    }

</div>




